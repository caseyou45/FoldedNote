(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(39),s=n.n(r),i=n(5),o=n.n(i),l=n(10),u=n(2),j=n(12),b=n.n(j),d=n(9),h=n(8),O=function(e){return function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_NOTE",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTE":return t.data;default:return e}},p=n(1),x=function(){return Object(p.jsxs)("div",{className:"delete-message",children:[Object(p.jsx)("h4",{children:"Note successfully deleted"}),Object(p.jsx)("button",{onClick:function(){window.location.href="/"},children:"Make New Note"})]})},v=n(11),m=function(e){var t=e.setNoteProtected,n=e.setShowSettingsModal,a=Object(c.useState)(""),r=Object(u.a)(a,2),s=r[0],i=r[1],j=Object(c.useState)(""),d=Object(u.a)(j,2),f=d[0],x=d[1],m=Object(c.useState)(""),w=Object(u.a)(m,2),g=w[0],y=w[1],S=Object(c.useState)({length:!1,match:!1}),k=Object(u.a)(S,2),N=k[0],C=k[1],P=Object(h.b)(),E=Object(h.c)((function(e){return e.note})),M=function(){var e=Object(l.a)(o.a.mark((function e(c){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.password=c,e.prev=1,e.next=4,b.a.post("/api/note/password/enable",E);case 4:(a=e.sent)&&(y("Password Set"),i(""),x(""),P(O(a.data)),setTimeout((function(){n(!1),t(!0)}),1e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),T=function(e){e.preventDefault(),Object.values(N).every(Boolean)&&M(s)};return Object(c.useEffect)((function(){var e;(e=s).length>=8&&!1===N.length&&C((function(e){return Object(v.a)(Object(v.a)({},e),{},{length:!0})})),e.length<8&&!0===N.length&&C((function(e){return Object(v.a)(Object(v.a)({},e),{},{length:!1})})),s===f&&!1===N.match&&C((function(e){return Object(v.a)(Object(v.a)({},e),{},{match:!0})})),s!==f&&!0===N.match&&C((function(e){return Object(v.a)(Object(v.a)({},e),{},{match:!1})}))})),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Protect with Password"}),Object(p.jsx)("h5",{children:"The contents of this note will be password protected. No account required."}),Object(p.jsx)("p",{className:"message",children:g}),Object(p.jsxs)("form",{className:"enable-password",children:[Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"text",name:"password",value:s,onChange:function(e){i(e.target.value)}}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{style:{color:N.length?"#06d6a0":"#ef476f"},className:N.length?"lni lni-checkmark-circle":"lni lni-warning"}),"At Least 8 Characters"]}),Object(p.jsx)("label",{children:"Retype Password"}),Object(p.jsx)("input",{type:"text",name:"passwordCheck",value:f,onChange:function(e){x(e.target.value)}}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{style:{color:N.match&&N.length?"#06d6a0":"#ef476f"},className:N.length?"lni lni-checkmark-circle":"lni lni-warning"}),"Passwords Must Match"]}),Object(p.jsx)("button",{onClick:function(e){T(e)},children:"Secure"})]})]})},w=function(e){var t=e.setShowSettingsModal,n=e.setNoteProtected,a=Object(c.useState)(""),r=Object(u.a)(a,2),s=r[0],i=r[1],j=Object(c.useState)(""),d=Object(u.a)(j,2),f=d[0],x=d[1],v=Object(h.b)(),m=Object(h.c)((function(e){return e.note})),w=function(){var e=Object(l.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/api/note/password/disable",{password:s,identifier:m.identifier});case 3:(c=e.sent)&&(v(O(c.data)),i(""),x("Password Disabled"),setTimeout((function(){t(!1),n(!1)}),1e3)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),x(e.t0.response.data.error),i("");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"message",children:f}),Object(p.jsxs)("form",{className:"disable-password",children:[Object(p.jsx)("label",{children:"Enter Current Password"}),Object(p.jsx)("input",{type:"text",name:"password",value:s,onChange:function(e){i(e.target.value)}}),Object(p.jsx)("button",{onClick:function(e){!function(e){e.preventDefault(),w()}(e)},children:"Disable Password"})]})]})},g=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],j=s[1],d=Object(c.useState)(""),f=Object(u.a)(d,2),x=f[0],m=f[1],w=Object(c.useState)(""),g=Object(u.a)(w,2),y=g[0],S=g[1],k=Object(c.useState)({length:!1,match:!1}),N=Object(u.a)(k,2),C=N[0],P=N[1],E=Object(h.b)(),M=Object(h.c)((function(e){return e.note})),T=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={newPassword:n,currentPassword:x,identifier:M.identifier},e.prev=1,e.next=4,b.a.post("/api/note/password/change",t);case 4:(c=e.sent)&&(S("Password Changed"),E(O(c.data)),a(""),j(""),m("")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),S(e.t0.response.data.error),m("");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),D=function(e){e.preventDefault(),Object.values(C).every(Boolean)&&T()};return Object(c.useEffect)((function(){var e;(e=n).length>=8&&!1===C.length&&P((function(e){return Object(v.a)(Object(v.a)({},e),{},{length:!0})})),e.length<8&&!0===C.length&&P((function(e){return Object(v.a)(Object(v.a)({},e),{},{length:!1})})),n===i&&!1===C.match&&P((function(e){return Object(v.a)(Object(v.a)({},e),{},{match:!0})})),n!==i&&!0===C.match&&P((function(e){return Object(v.a)(Object(v.a)({},e),{},{match:!1})}))})),Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"message",children:y}),Object(p.jsxs)("form",{className:"change-password",children:[Object(p.jsx)("label",{children:"Create New Password"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"text",name:"password",value:n,onChange:function(e){a(e.target.value)}}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{style:{color:C.length?"#06d6a0":"#ef476f"},className:C.length?"lni lni-checkmark-circle":"lni lni-warning"}),"At Least 8 Characters"]}),Object(p.jsx)("label",{children:"Retype New Password"}),Object(p.jsx)("input",{type:"text",name:"passwordCheck",value:i,onChange:function(e){j(e.target.value)}}),Object(p.jsxs)("p",{children:[Object(p.jsx)("i",{style:{color:C.match&&C.length?"#06d6a0":"#ef476f"},className:C.length?"lni lni-checkmark-circle":"lni lni-warning"}),"Passwords Must Match"]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{children:"Current Password"}),Object(p.jsx)("input",{type:"text",name:"currentPassword",value:x,onChange:function(e){m(e.target.value)}}),Object(p.jsx)("button",{onClick:function(e){D(e)},children:"Submit"})]})]})]})},y=(n(139),function(e){var t=e.setShowSettingsModal,n=e.showSettingsModal,a=Object(c.useState)(!0),r=Object(u.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),j=l[0],b=l[1],d=Object(h.c)((function(e){return e.note}));Object(c.useEffect)((function(){b(d.protected)}),[]);return Object(p.jsx)("div",{class:"modal-background",style:{display:n?"block":"none"},onClick:function(e){return function(e){var c=e.target;!0===n&&"modal-background"===c.className&&t(!1)}(e)},children:Object(p.jsxs)("div",{className:"modal-settings",children:[Object(p.jsx)("div",{children:j?Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"selection-settings",children:[Object(p.jsx)("button",{style:{backgroundColor:s&&"#166079"},name:"change",onClick:function(e){return i(!0)},children:"Change Password"}),Object(p.jsx)("button",{style:{backgroundColor:!s&&"#166079"},name:"disable",onClick:function(e){return i(!1)},children:"Disable Password"})]}),Object(p.jsx)("div",{children:s?Object(p.jsx)(g,{setNoteProtected:b}):Object(p.jsx)(w,{setShowSettingsModal:t,setNoteProtected:b})})," "]}):Object(p.jsx)(m,{setShowSettingsModal:t,setNoteProtected:b})}),Object(p.jsx)("button",{className:"cancel",onClick:function(){t(!1)},children:"Cancel"})]})})}),S=n(23),k=(n(234),{INLINE_STYLES:[{icon:"lni lni-bold",style:"BOLD"},{icon:"lni lni-italic",style:"ITALIC"},{icon:"lni lni-underline",style:"UNDERLINE"}],BLOCK_TYPES:[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Blockquote",style:"blockquote"},{label:"Code Block",style:"code-block"}]}),N=(n(235),function(){var e=Object(c.useState)("Saved "),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],j=s[1],d=Object(c.useState)(1500),O=Object(u.a)(d,2),f=O[0],v=O[1],m=Object(c.useState)(!1),w=Object(u.a)(m,2),g=w[0],N=w[1],C=Object(c.useState)(!1),P=Object(u.a)(C,2),E=P[0],M=P[1],T=Object(c.useState)(!1),D=Object(u.a)(T,2),L=D[0],I=D[1],B=Object(c.useState)(!1),R=Object(u.a)(B,2),_=R[0],A=R[1],H=Object(c.useState)(S.EditorState.createEmpty()),F=Object(u.a)(H,2),K=F[0],U=F[1],J=Object(h.c)((function(e){return e.note})),Y=function(e){var t=e.label,n=e.style;return Object(p.jsx)("span",{className:"style-buttons",onMouseDown:function(e){return function(e,t){e.preventDefault();var n=S.RichUtils.toggleBlockType(K,t);U(n)}(e,n)},children:t})},q=function(e){var t=e.style,n=e.icon,c=K.getCurrentInlineStyle().has(t);return Object(p.jsx)("span",{className:"style-buttons "+(c&&"selected-button"),onMouseDown:function(e){return function(e,t){e.preventDefault();var n=S.RichUtils.toggleInlineStyle(K,t);U(n)}(e,t)},children:Object(p.jsx)("i",{className:n})})};Object(c.useEffect)((function(){if(J)if(""!==J.note){var e=Object(S.convertFromRaw)(JSON.parse(J.note));U(S.EditorState.createWithContent(e))}else U(S.EditorState.createEmpty())}),[J]),Object(c.useEffect)((function(){if(i){var e=setInterval((function(){v((function(e){return e-100}))}),100);return 0===f&&(j(!1),a("Saved ")),function(){clearInterval(e)}}}));var W=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=11;break}return e.prev=1,e.next=4,z();case 4:i||(a("Saving..."),j(!0)),v(1500),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=K.getCurrentContent(),J.note=Object(S.convertToRaw)(t),n=JSON.stringify(Object(S.convertToRaw)(K.getCurrentContent())),J.note=n,e.next=6,b.a.post("/api/note/save",J);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("/api/note/delete",{_id:J._id});case 3:e.sent&&I(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){return Object(p.jsxs)("div",{className:"delete",children:[Object(p.jsx)("button",{disabled:L,onClick:G,children:"Delete Note"}),Object(p.jsx)("button",{disabled:L,onClick:function(){return M(!1)},children:"Cancel Delete"})]})};return Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsxs)("div",{className:"dashboard",children:[Object(p.jsxs)("div",{className:"info",children:[E?Object(p.jsx)("div",{}):Object(p.jsx)("div",{children:Object(p.jsxs)("span",{style:{color:i?"#ef476f":"#118ab2"},children:[n,!i&&Object(p.jsx)("i",{class:"lni lni-checkmark-circle"})]})}),E?Object(p.jsx)(Q,{}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("button",{onClick:function(){return A(!_)},children:[Object(p.jsx)("i",{className:"lni lni-lock"})," Manage Security"]}),Object(p.jsx)("button",{onClick:function(){return M(!0)},children:Object(p.jsx)("i",{className:"lni lni-trash-can"})})]})]}),Object(p.jsxs)("div",{className:g?"buttons-display ":"truncate",children:[Object(p.jsx)("span",{className:"style-buttons",onClick:W,children:Object(p.jsx)("i",{className:"lni lni-save"})}),k.INLINE_STYLES.map((function(e){var t=e.style,n=e.icon;return Object(p.jsx)(q,{style:t,icon:n})})),k.BLOCK_TYPES.map((function(e){var t=e.style,n=e.label;return Object(p.jsx)(Y,{style:t,label:n})}))]}),Object(p.jsx)("button",{className:"show-more",onClick:function(){N(!g)},children:Object(p.jsx)("i",{className:g?"lni lni-chevron-up":"lni lni-chevron-down"})})]}),Object(p.jsx)("div",{className:"main",onKeyDown:function(e){W()},children:L?Object(p.jsx)(x,{}):Object(p.jsx)(S.Editor,{editorState:K,onChange:U,handleKeyCommand:function(e,t){var n=S.RichUtils.handleKeyCommand(t,e);return n?(U(n),"handled"):"not-handled"}})}),Object(p.jsx)(y,{showSettingsModal:_,setShowSettingsModal:A})]})}),C=(n(236),function(e){var t=e.setNeedsAuth,n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),j=Object(u.a)(i,2),f=j[0],x=j[1],v=Object(d.g)(),m=Object(h.b)(),w=function(){var e=Object(l.a)(o.a.mark((function e(n){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=v.pathname.split("/").pop(),e.prev=2,e.next=5,b.a.post("/api/note/fetch_secure",{identifier:c,password:r});case 5:(a=e.sent)&&(m(O(a.data)),t(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),x(e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"modal-password",children:[Object(p.jsx)("h2",{children:"Secured Note"}),Object(p.jsx)("h5",{children:"This note is password protected."}),Object(p.jsx)("p",{className:"error-message",children:f}),Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{type:"text",name:"password",value:r,onChange:function(e){s(e.target.value)}}),Object(p.jsx)("button",{onClick:function(e){w(e)},children:"Enter"})]}),Object(p.jsx)("button",{className:"cancel",onClick:function(){window.location.href="/"},children:"Create New Note"})]})}),P=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],j=s[1],f=Object(c.useState)(!1),x=Object(u.a)(f,2),v=(x[0],x[1],Object(d.f)()),m=Object(d.g)(),w=Object(h.b)(),g=function(e){for(var t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=n.length,a=0;a<e;a++)t.push(n.charAt(Math.floor(Math.random()*c)));return t.join("")},y=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/note/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/note/".concat(t));case 3:"none"===(n=e.sent).data?k():(w(O(n.data)),j(!0),v.push("/".concat(t))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response.status&&403===e.t0.response.status&&(a(!0),j(!0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=g(10),e.next=4,y(t);case 4:if("none"===e.sent){e.next=9;break}k(),e.next=15;break;case 9:return e.next=11,b.a.post("/api/note",{identifier:t});case 11:n=e.sent,w(O(n.data)),j(!0),v.push("/".concat(t));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){!function(){var e=m.pathname.split("/").pop();e?"delete"===e||S(e):k()}()}),[]),Object(p.jsx)("div",{children:i&&Object(p.jsx)("div",{children:n?Object(p.jsx)(C,{needsAuth:n,setNeedsAuth:a}):Object(p.jsx)(N,{})})})};n(238);var E=function(){return Object(p.jsx)("div",{className:"app",children:Object(p.jsx)(d.c,{children:Object(p.jsx)(d.a,{path:"/",children:Object(p.jsx)(P,{})})})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,240)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},T=n(32),D=n(41),L=n(112),I=Object(D.b)({note:f}),B=Object(D.c)(I,Object(D.a)(L.a));s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(h.a,{store:B,children:Object(p.jsx)(T.a,{children:Object(p.jsx)(E,{})})})}),document.getElementById("root")),M()}},[[239,1,2]]]);
//# sourceMappingURL=main.91919139.chunk.js.map